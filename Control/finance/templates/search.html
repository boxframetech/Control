{%extends 'base.html'%}

{%block content%} 
{%include 'nav.html'%}

{%include 'searchform.html'%}

<div class="col-md-12">
    <div class="card"> <!-- id="formtarget"  hx-swap="outerHTML"-->
      <div class="card-header">
        <h4 class="card-title"> Transaction Journal</h4>
      </div>
      <div class="card-body">
        <div class="table-responsive">
          <table class="table">
            <thead class=" text-primary">
              <tr>
                <th>
                    index
                  </th>
                <th>
                Date
              </th>
              <th>
                Credit Account
              </th>
              <th>
                Debit Account
              </th>
              <th class="text-center">
                Description
              </th>
              <th class="text-center">
                Amount
              </th>
              <th class="text-center">
                Action
              </th>
            </tr></thead>
            <tbody
                id="journals"
                hx-confirm="Are you sure you want to delete this journal ?"
                hx-target="#journals"
                hx-swap="outerHTML"
                >
                {%for journal in journals%}
                <tr>
                    <td>{{forloop.counter}}</td>
                    <td>{{journal.transaction_date}}</td>
                    <td>{{journal.cr_account}}</td>
                    <td>{{journal.dr_account}}</td>
                    <td>{{journal.description}}</td>
                    <td>{{journal.amount}}</td>
                    <td>
                    <a
                        class="btn btn-danger btn-sm mr-2 hover:text-gray-600"
                        hx-delete="{% url 'delete_journal' journal.id %}"
                    >
                        Delete?
                    </a>
                    </td>
                </tr>
                {%endfor%}
            </tbody>

        </table>
    </div>
  </div>
</div>
</div>
{%endblock%}